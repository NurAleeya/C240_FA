<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Foodie Finder - Find Your Next Meal</title>
  <meta name="description" content="Find nearby food spots with student-friendly reviews and emoji ratings" />
  <link rel="stylesheet" href="css/styles.css" />
  <style>
    .share-btn {
      background-color: #4CAF50;
      color: white;
      padding: 10px 15px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
      margin-left: 5px;
    }

    .share-btn:hover {
      background-color: #adebdc;
    }
  </style>
</head>
<body>
  <header class="header">
    <div class="container">
      <h1 class="logo">
        <img src="images/foodie-finder-logo.png" alt="Foodie Finder Logo" style="max-width: 80px; height: auto; vertical-align: middle;" />
        Foodie Finder @ RP
      </h1>
      <p class="tagline">Discover delicious food spots near you!</p>
    </div>
  </header>

  <main class="main">
    <div class="container">
      <!-- Search Section -->
      <section class="search-section" aria-label="Search for food">
        <div class="search-container">
          <label for="search-input" class="visually-hidden">Search for food type or restaurant</label>
          <input 
            type="text" 
            id="search-input" 
            class="search-input" 
            placeholder="Search for pizza, burgers, sushi..." 
            aria-describedby="search-help" />
          <button type="button" class="search-btn" aria-label="Search">üîç</button>
        </div>
        <div id="search-help" class="search-help">
          Enter a food type or restaurant name to find nearby options
        </div>
      </section>

      <!-- Filter Section -->
      <section class="filter-section" aria-label="Filter options">
        <h2 class="filter-title">Filters</h2>
        <div class="filter-grid">
          <div class="filter-group">
            <label for="price-filter" class="filter-label">Price Range</label>
            <select id="price-filter" class="filter-select">
              <option value="">All Prices</option>
              <option value="$">$ - Budget Friendly</option>
              <option value="$$">$$ - Moderate</option>
              <option value="$$$">$$$ - Expensive</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="open-filter" class="filter-label">Status</label>
            <select id="open-filter" class="filter-select">
              <option value="">All</option>
              <option value="open">Open Now</option>
              <option value="closed">Closed</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="halal-filter" class="filter-label">Dietary Options</label>
            <select id="halal-filter" class="filter-select">
              <option value="">All Options</option>
              <option value="halal">ü•© Halal Only</option>
              <option value="non-halal">üçñ Non-Halal</option>
              <option value="vegetarian">ü•ó Vegetarian</option>
              <option value="vegan">üå± Vegan</option>
            </select>
          </div>
          <div class="filter-group">
            <label for="location-filter" class="filter-label">Location</label>
            <select id="location-filter" class="filter-select">
              <option value="">All Locations</option>
              <option value="food-paradise">Food Paradise @ North Canteen</option>
              <option value="lawn-w6">Lawn @ W6</option>
              <option value="south-canteen">South Canteen</option>
              <option value="rpc">Republic Polytechnic Centre (RPC)</option>
              <option value="rp-resource-centre">RP Resource Centre</option>
              <option value="trcc">The Republic Cultural Centre (TRCC)</option>
              <option value="library">Library</option>
            </select>
          </div>
          <button type="button" class="clear-filters-btn">Clear Filters</button>
        </div>
      </section>

      <!-- Location Section -->
      <section class="location-section">
        <button type="button" class="location-btn" id="get-location">üìç Use My Location</button>
        <div class="location-status" id="location-status" aria-live="polite"></div>
      </section>

      <!-- Results Section -->
      <section class="results-section" aria-label="Search results">
        <div class="results-header">
          <h2 class="results-title">Food Spots Near You</h2>
          <div class="results-count" id="results-count" aria-live="polite"></div>
        </div>
        <div class="results-container" id="results-container" role="region" aria-live="polite">
          <div class="stall">
            <h3 class="stall-name">Example Stall Name</h3>
            <p class="stall-description">Delicious food options available here!</p>
            <button class="share-link-btn share-btn" aria-label="Share link for Example Stall">üîó Share Link</button>
          </div>
        </div>
      </section>

      <!-- Favorites Section -->
      <section class="favorites-section" aria-label="Your favorites">
        <h2 class="favorites-title">Your Favourites ‚ù§Ô∏è</h2>
        <div class="favorites-container" id="favorites-container"></div>
      </section>
    </div>
  </main>

  <!-- Back Button -->
  <a href="https://rp-campask.onrender.com" style="
    position: fixed;
    top: 20px;
    left: 20px;
    background-color: #ff7f50;
    color: white;
    padding: 10px 15px;
    border-radius: 50px;
    font-size: 16px;
    text-decoration: none;
    font-weight: bold;
    box-shadow: 0 4px 10px rgba(0,0,0,0.2);
    z-index: 9999;">‚Üê Back</a>

  <!-- Share Popup -->
  <div id="share-popup" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background-color: #fff; padding: 20px; border: 1px solid #ccc; border-radius: 10px; box-shadow: 0 4px 10px rgba(0,0,0,0.2); width: 90%; max-width: 600px;">
    <h3 id="share-popup-title" style="text-align: center;">Share</h3>
    <div style="display: flex; justify-content: space-around; align-items: center; flex-wrap: wrap;">
      <a id="share-whatsapp" href="#" target="_blank" style="background-color: #4CAF50;"> <img src="assets/whatsapp-logo.png" alt="WhatsApp" /> Share via WhatsApp </a>
      <a id="share-facebook" href="#" target="_blank" style="background-color: #3b5998;"> <img src="assets/facebook-logo.png" alt="Facebook" /> Share via Facebook </a>
      <a id="share-twitter" href="#" target="_blank" style="background-color: #1DA1F2;"> <img src="assets/twitter-logo.png" alt="Twitter" /> Share via Twitter </a>
      <a id="share-email" href="#" target="_blank" style="background-color: #f44336;"> <img src="assets/email-logo.png" alt="Email" /> Share via Email </a>
    </div>
    <button onclick="document.getElementById('share-popup').style.display='none'" style="margin-top: 10px; padding: 10px; background-color: #f44336; color: white; border: none; border-radius: 5px; cursor: pointer;">Close</button>
  </div>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Foodie Finder. Made with ‚ù§Ô∏è for students.</p>
    </div>
  </footer>

  <!-- App Script -->
  <script src="js/app.js"></script>

  <!-- Share Logic -->
  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const shareButtons = document.querySelectorAll('.share-link-btn');

      shareButtons.forEach(button => {
        button.addEventListener('click', (event) => {
          event.preventDefault();
          const stallName = event.target.closest('.stall').querySelector('.stall-name').textContent;
          const currentUrl = window.location.href;

          document.getElementById('share-popup-title').textContent = `Share ${stallName}`;
          document.getElementById('share-whatsapp').href = `https://wa.me/?text=Check out ${stallName} at ${currentUrl}`;
          document.getElementById('share-facebook').href = `https://www.facebook.com/sharer/sharer.php?u=${currentUrl}`;
          document.getElementById('share-twitter').href = `https://twitter.com/intent/tweet?text=Check out ${stallName} at ${currentUrl}`;
          document.getElementById('share-email').href = `mailto:?subject=Check out ${stallName}&body=Visit this amazing stall at ${currentUrl}`;

          document.getElementById('share-popup').style.display = 'block';
        });
      });
    });
  </script>

  <!-- ‚úÖ Botpress Webchat Integration -->
  <script src="https://cdn.botpress.cloud/webchat/v3.0/inject.js"></script>
  <script src="https://files.bpcontent.cloud/2025/07/17/02/20250717020840-A8GM111F.js"></script>
</body>
</html>
